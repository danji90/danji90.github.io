{"version":3,"file":"StyleGuide.js","sources":["../../src/styleguidist/StyleGuide.js"],"sourcesContent":["/* eslint-disable import/no-unresolved */\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { geopsTheme, Header, Footer } from '@geops/geops-ui';\nimport {\n  Hidden,\n  ClickAwayListener,\n  Collapse,\n  List,\n  ListItem,\n  Link,\n} from '@material-ui/core';\nimport Open from '@material-ui/icons/ArrowDropDownTwoTone';\nimport Close from '@material-ui/icons/ArrowDropUpTwoTone';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport Version from 'react-styleguidist/lib/client/rsg-components/Version';\nimport Styled from 'react-styleguidist/lib/client/rsg-components/Styled';\nimport docConfig from '../../doc/doc-config.json';\n\nconst styles = ({ mq }) => ({\n  root: {\n    backgroundColor: 'white',\n\n    '& .MuiAutocomplete-root': {\n      margin: '20px 0',\n      width: 300,\n    },\n  },\n  version: {\n    padding: '10px 0 0 10px',\n  },\n  content: {\n    top: 100,\n    bottom: 0,\n    height: 'calc(100vh - 60px)',\n    position: 'fixed',\n    width: '100%',\n    zIndex: 0,\n  },\n  scrollable: {\n    overflowY: 'scroll',\n    height: 'calc(100vh - 100px)',\n    [mq.small]: {\n      top: 40,\n      position: 'absolute',\n      width: '100%',\n      height: 'calc(100vh - 140px)',\n    },\n  },\n  main: {\n    maxWidth: 1000,\n    padding: [[15, 30]],\n    paddingLeft: 230,\n    paddingTop: 55,\n    margin: [[0, 'auto']],\n    [mq.small]: {\n      padding: 15,\n    },\n    display: 'block',\n  },\n  sidebar: {\n    backgroundColor: '#EFEFEF',\n    border: '#e8e8e8 solid',\n    borderWidth: '0 1px 0 0',\n    position: 'fixed',\n    top: 100,\n    left: 0,\n    bottom: 0,\n    width: '200px',\n    overflow: 'auto',\n  },\n  dropdown: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: '0 10px 0',\n    position: 'fixed',\n    backgroundColor: '#efefef',\n    height: 40,\n    width: '100%',\n    zIndex: 99999,\n    color: '#6987a1',\n    borderBottom: '1px solid #6987a1',\n  },\n});\n\nexport function StyleGuideRenderer({\n  classes,\n  children,\n  version,\n  toc,\n  hasSidebar,\n}) {\n  const [apiKey, setApiKey] = useState();\n  const [dropdownOpen, toggleDropdown] = useState(false);\n  const [expanded, expandSection] = useState();\n  const [selected, setSelected] = useState('Components');\n  useEffect(() => {\n    fetch('https://developer.geops.io/publickey')\n      .then((response) => response.json())\n      .then((data) => {\n        setApiKey(data.key);\n      })\n      .catch(() => {\n        setApiKey('error');\n        // eslint-disable-next-line no-console\n        console.error('Request to get the apiKey failed');\n      });\n  }, []);\n\n  if (!apiKey) {\n    return null;\n  }\n\n  // Makes apiKey accessible for all components.\n  window.apiKey = apiKey;\n\n  return (\n    <ThemeProvider theme={geopsTheme}>\n      <div className={classes.root}>\n        <Header\n          title={docConfig.appName}\n          tabs={[{ label: 'Code', href: `${docConfig.githubRepo}` }]}\n        />\n        <div className={classes.content}>\n          <Hidden smUp>\n            <div\n              role=\"button\"\n              type=\"button\"\n              className={classes.dropdown}\n              onClick={() => toggleDropdown(!dropdownOpen)}\n              onKeyDown={(e) => {\n                if (e.keyCode === 13) {\n                  toggleDropdown(!dropdownOpen);\n                }\n              }}\n              tabIndex={0}\n            >\n              {selected}\n              {dropdownOpen ? <Close /> : <Open />}\n            </div>\n            <Collapse in={dropdownOpen} timeout=\"auto\" unmountOnExit>\n              <ClickAwayListener onClickAway={() => toggleDropdown(false)}>\n                <List\n                  component=\"div\"\n                  disablePadding\n                  style={{\n                    width: '100%',\n                    overflow: 'auto',\n                    maxHeight: 'calc(100vh - 150px)',\n                    top: 40,\n                    backgroundColor: 'white',\n                    boxShadow: '0px 10px 15px #35353520',\n                    zIndex: 99999,\n                  }}\n                >\n                  {toc.props.sections.slice(1).map((section) => {\n                    return [\n                      <ListItem\n                        key={section.name}\n                        button\n                        onClick={() => {\n                          return expanded === section.name\n                            ? expandSection()\n                            : expandSection(section.name);\n                        }}\n                        style={{\n                          fontWeight: 'bold',\n                          color: '#6987a1',\n                          borderTop: '1px solid #e8e8e8',\n                        }}\n                      >\n                        {section.name}\n                      </ListItem>,\n                      <Collapse\n                        key={`${section.name}-components`}\n                        in={expanded === section.name}\n                        timeout=\"auto\"\n                        unmountOnExit\n                      >\n                        {section.components.map((component) => {\n                          return (\n                            <ListItem\n                              key={component.name}\n                              button\n                              style={{ paddingLeft: 32 }}\n                              onClick={() => {\n                                setSelected(component.name);\n                                toggleDropdown(false);\n                              }}\n                              tabIndex={-1}\n                              selected={selected === component.name}\n                            >\n                              <Link\n                                style={{ display: 'block', width: '100%' }}\n                                href={`#${component.name.toLowerCase()}`}\n                              >\n                                {component.name}\n                              </Link>\n                            </ListItem>\n                          );\n                        })}\n                      </Collapse>,\n                    ];\n                  })}\n                </List>\n              </ClickAwayListener>\n            </Collapse>\n          </Hidden>\n          <div className={classes.scrollable}>\n            <Hidden xsDown>\n              <div className={classes.sidebar}>\n                <header className={classes.version}>\n                  {version && <Version>{version}</Version>}\n                </header>\n                {hasSidebar ? toc : null}\n              </div>\n            </Hidden>\n            <main className={classes.main}>{children}</main>\n            <Footer />\n          </div>\n        </div>\n        <div id=\"promo\">\n          <a\n            href={docConfig.githubRepo}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <div id=\"promo-text\">Fork me on GitHub</div>\n          </a>\n        </div>\n      </div>\n    </ThemeProvider>\n  );\n}\n\nStyleGuideRenderer.defaultProps = {\n  version: null,\n};\n\nStyleGuideRenderer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  children: PropTypes.node.isRequired,\n  version: PropTypes.string,\n  toc: PropTypes.node.isRequired,\n  hasSidebar: PropTypes.bool.isRequired,\n};\n\nexport default Styled(styles)(StyleGuideRenderer);\n"],"names":["const"],"mappings":"AAAA;AACA,OAAO,KAAK,IAAI,SAAS,EAAE,QAAQ,QAAQ,OAAO,CAAC;AACnD,OAAO,SAAS,MAAM,YAAY,CAAC;AACnC,SAAS,UAAU,EAAE,MAAM,EAAE,MAAM,QAAQ,iBAAiB,CAAC;AAC7D;AACA,EAAE,MAAM;AACR,EAAE,iBAAiB;AACnB,EAAE,QAAQ;AACV,EAAE,IAAI;AACN,EAAE,QAAQ;AACV,EAAE,IAAI;AACN,OAAO,mBAAmB,CAAC;AAC3B,OAAO,IAAI,MAAM,yCAAyC,CAAC;AAC3D,OAAO,KAAK,MAAM,uCAAuC,CAAC;AAC1D,SAAS,aAAa,QAAQ,0BAA0B,CAAC;AACzD,OAAO,OAAO,MAAM,sDAAsD,CAAC;AAC3E,OAAO,MAAM,MAAM,qDAAqD,CAAC;AACzE,OAAO,SAAS,MAAM,2BAA2B,CAAC;AAClD;AACAA,GAAK,CAAC,MAAM,YAAG,IAAO;;AAAJ;;SAAS,CAAC;AAC5B,EAAE,IAAI,EAAE;AACR,IAAI,eAAe,EAAE,OAAO;AAC5B;AACA,IAAI,yBAAyB,EAAE;AAC/B,MAAM,MAAM,EAAE,QAAQ;AACtB,MAAM,KAAK,EAAE,GAAG;AAChB,KAAK;AACL,GAAG;AACH,EAAE,OAAO,EAAE;AACX,IAAI,OAAO,EAAE,eAAe;AAC5B,GAAG;AACH,EAAE,OAAO,EAAE;AACX,IAAI,GAAG,EAAE,GAAG;AACZ,IAAI,MAAM,EAAE,CAAC;AACb,IAAI,MAAM,EAAE,oBAAoB;AAChC,IAAI,QAAQ,EAAE,OAAO;AACrB,IAAI,KAAK,EAAE,MAAM;AACjB,IAAI,MAAM,EAAE,CAAC;AACb,GAAG;AACH,EAAE,UAAU,UAAE;AACd,IAAI,SAAS,EAAE,QAAQ;AACvB,IAAI,MAAM,EAAE;GAAqB,KAC7B,CAAC,EAAE,CAAC,KAAK,IAAG;AAChB,MAAM,GAAG,EAAE,EAAE;AACb,MAAM,QAAQ,EAAE,UAAU;AAC1B,MAAM,KAAK,EAAE,MAAM;AACnB,MAAM,MAAM,EAAE,qBAAqB;AACnC,YACG;AACH,EAAE,IAAI,YAAE;AACR,IAAI,QAAQ,EAAE,IAAI;AAClB,IAAI,OAAO,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;AACvB,IAAI,WAAW,EAAE,GAAG;AACpB,IAAI,UAAU,EAAE,EAAE;AAClB,IAAI,MAAM,EAAE,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC;GAAC,OACrB,CAAC,EAAE,CAAC,KAAK,IAAG;AAChB,MAAM,OAAO,EAAE,EAAE;AACjB,KAAK,QACD,UAAS,gBACV;AACH,EAAE,OAAO,EAAE;AACX,IAAI,eAAe,EAAE,SAAS;AAC9B,IAAI,MAAM,EAAE,eAAe;AAC3B,IAAI,WAAW,EAAE,WAAW;AAC5B,IAAI,QAAQ,EAAE,OAAO;AACrB,IAAI,GAAG,EAAE,GAAG;AACZ,IAAI,IAAI,EAAE,CAAC;AACX,IAAI,MAAM,EAAE,CAAC;AACb,IAAI,KAAK,EAAE,OAAO;AAClB,IAAI,QAAQ,EAAE,MAAM;AACpB,GAAG;AACH,EAAE,QAAQ,EAAE;AACZ,IAAI,OAAO,EAAE,MAAM;AACnB,IAAI,UAAU,EAAE,QAAQ;AACxB,IAAI,cAAc,EAAE,eAAe;AACnC,IAAI,OAAO,EAAE,UAAU;AACvB,IAAI,QAAQ,EAAE,OAAO;AACrB,IAAI,eAAe,EAAE,SAAS;AAC9B,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,KAAK,EAAE,MAAM;AACjB,IAAI,MAAM,EAAE,KAAK;AACjB,IAAI,KAAK,EAAE,SAAS;AACpB,IAAI,YAAY,EAAE,mBAAmB;AACrC,GAAG;AACH,CAAC;CAAC,CAAC;AACH;AACA,OAAO,SAAS,kBAAkB,IAMjC,EAAE,CALD;4BACA;8BACA;4BACA;oBACA;;AACE;AACJ,WAA2B,GAAG,QAAQ;EAA7B;EAAQ,yBAAwB;AACzC,WAAsC,GAAG,QAAQ,CAAC,KAAK;EAA9C;EAAc,8BAAkC;AACzD,WAAiC,GAAG,QAAQ;EAAnC;EAAU,6BAA4B;AAC/C,WAA+B,GAAG,QAAQ,CAAC,YAAY;EAA9C;EAAU,2BAAsC;AACzD,EAAE,SAAS,UAAC,GAAM;AAClB,IAAI,KAAK,CAAC,sCAAsC,CAAC;AACjD,OAAO,IAAI,UAAC,CAAC,QAAQ,WAAK,QAAQ,CAAC,IAAI,KAAE,CAAC;AAC1C,OAAO,IAAI,UAAC,CAAC,IAAI,EAAK;AACtB,QAAQ,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC5B,OAAO,CAAC;AACR,OAAO,KAAK,UAAC,GAAM;AACnB,QAAQ,SAAS,CAAC,OAAO,CAAC,CAAC;AAC3B;AACA,QAAQ,OAAO,CAAC,KAAK,CAAC,kCAAkC,CAAC,CAAC;AAC1D,OAAO,CAAC,CAAC;AACT,GAAG,EAAE,EAAE,CAAC,CAAC;AACT;AACA,EAAE,IAAI,CAAC,MAAM,EAAE;AACf,IAAI,OAAO,IAAI,CAAC;AAChB,GAAG;AACH;AACA;AACA,EAAE,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;AACzB;AACA,EAAE,OAAO;AACT,IAAI,qBAAC,gBAAa,CAAC,OAAO,aAAY;AACtC,MAAM,sBAAC,OAAG,CAAC,WAAW,OAAO,CAAC,OAAM;AACpC,QAAQ,qBAAC,SAAM;AACf,UAAU,OAAO,SAAS,CAAC,OAAQ,EACzB,MAAM,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,OAAG,SAAS,CAAC,YAAY,EAAE,GAAE,EAC3D;AACV,QAAQ,sBAAC,OAAG,CAAC,WAAW,OAAO,CAAC,UAAS;AACzC,UAAU,qBAAC,SAAM,CAAC,aAAK;AACvB,YAAY,sBAAC,OAAG;AAChB,cAAc,MAAK,QAAQ,EACb,MAAK,QAAQ,EACb,WAAW,OAAO,CAAC,QAAS,EAC5B,kBAAS,YAAM,cAAc,CAAC,CAAC,YAAY,IAAE,EAC7C,oBAAW,CAAC,CAAC,EAAK;AAChC,gBAAgB,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE,EAAE;AACtC,kBAAkB,cAAc,CAAC,CAAC,YAAY,CAAC,CAAC;AAChD,iBAAiB;AACjB,eAAgB,EACF,UAAU,IACX;AACb,cAAe,SAAS;AACxB,cAAe,YAAY,GAAG,qBAAC,WAAK,EAAG,GAAG,qBAAC,UAAI,EAAI;AACnD,YAAY,EAAM;AAClB,YAAY,qBAAC,WAAQ,CAAC,IAAI,YAAa,EAAC,SAAQ,MAAM,EAAC,sBAAc;AACrE,cAAc,qBAAC,oBAAiB,CAAC,sBAAa,YAAM,cAAc,CAAC,KAAK,OAAG;AAC3E,gBAAgB,qBAAC,OAAI;AACrB,kBAAkB,WAAU,KAAK,EACf,oBAAc,EACd,OAAO;AACzB,oBAAoB,KAAK,EAAE,MAAM;AACjC,oBAAoB,QAAQ,EAAE,MAAM;AACpC,oBAAoB,SAAS,EAAE,qBAAqB;AACpD,oBAAoB,GAAG,EAAE,EAAE;AAC3B,oBAAoB,eAAe,EAAE,OAAO;AAC5C,oBAAoB,SAAS,EAAE,yBAAyB;AACxD,oBAAoB,MAAM,EAAE,KAAK;AACjC,sBACiB;AACjB,kBAAmB,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,UAAC,CAAC,OAAO,EAAK;AAChE,oBAAoB,OAAO;AAC3B,sBAAsB,qBAAC,WAAQ;AAC/B,wBAAwB,KAAK,OAAO,CAAC,IAAK,EAClB,YAAM,EACN,kBAAS,GAAM;AACvC,0BAA0B,OAAO,QAAQ,KAAK,OAAO,CAAC,IAAI;AAC1D,8BAA8B,aAAa,EAAE;AAC7C,8BAA8B,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AAC1D,yBAA0B,EACF,OAAO;AAC/B,0BAA0B,UAAU,EAAE,MAAM;AAC5C,0BAA0B,KAAK,EAAE,SAAS;AAC1C,0BAA0B,SAAS,EAAE,mBAAmB;AACxD,4BACuB;AACvB,wBAAyB,OAAO,CAAC,IAAK;AACtC,sBAAsB,CAAW;AACjC,sBAAsB,qBAAC,WAAQ;AAC/B,wBAAwB,OAAQ,OAAO,CAAC,KAAI,iBAAc,EAClC,IAAI,QAAQ,KAAK,OAAO,CAAC,IAAK,EAC9B,SAAQ,MAAM,EACd,sBACD;AACvB,wBAAyB,OAAO,CAAC,UAAU,CAAC,GAAG,UAAC,CAAC,SAAS,EAAK;AAC/D,0BAA0B,OAAO;AACjC,4BAA4B,qBAAC,WAAQ;AACrC,8BAA8B,KAAK,SAAS,CAAC,IAAK,EACpB,YAAM,EACN,OAAO,EAAE,WAAW,EAAE,EAAE,EAAG,EAC3B,kBAAS,GAAM;AAC7C,gCAAgC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;AAC5D,gCAAgC,cAAc,CAAC,KAAK,CAAC,CAAC;AACtD,+BAAgC,EACF,UAAU,CAAC,CAAE,EACb,UAAU,QAAQ,KAAK,SAAS,CAAC,OAClC;AAC7B,8BAA8B,qBAAC,OAAI;AACnC,gCAAgC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,EAAG,EAC3C,MAAM,QAAI,SAAS,CAAC,IAAI,CAAC,WAAW,OACrC;AAC/B,gCAAiC,SAAS,CAAC,IAAK;AAChD,8BAA8B,CAAO;AACrC,4BAA4B,CAAW;AACvC,2BAA2B,CAAC;AAC5B,yBAAyB,CAAE;AAC3B,sBAAsB,CAAW,CACb,CAAC,CAAC;AACtB,mBAAmB,CAAE;AACrB,gBAAgB,CAAO;AACvB,cAAc,CAAoB;AAClC,YAAY,CAAW;AACvB,UAAU,EAAS;AACnB,UAAU,sBAAC,OAAG,CAAC,WAAW,OAAO,CAAC,aAAY;AAC9C,YAAY,qBAAC,SAAM,CAAC,eAAO;AAC3B,cAAc,sBAAC,OAAG,CAAC,WAAW,OAAO,CAAC,UAAS;AAC/C,gBAAgB,sBAAC,UAAM,CAAC,WAAW,OAAO,CAAC,UAAS;AACpD,kBAAmB,OAAO,IAAI,qBAAC,eAAS,OAAQ,EAAW;AAC3D,gBAAgB,EAAS;AACzB,gBAAiB,UAAU,GAAG,GAAG,GAAG,IAAK;AACzC,cAAc,CAAM;AACpB,YAAY,EAAS;AACrB,YAAY,sBAAC,QAAI,CAAC,WAAW,OAAO,CAAC,QAAO,QAAS,EAAO;AAC5D,YAAY,qBAAC,YAAM,EAAG;AACtB,UAAU,CAAM;AAChB,QAAQ,EAAM;AACd,QAAQ,sBAAC,OAAG,CAAC,IAAG,UAAQ;AACxB,UAAU,sBAAC,KAAC;AACZ,YAAY,MAAM,SAAS,CAAC,UAAW,EAC3B,QAAO,QAAQ,EACf,KAAI,wBACL;AACX,YAAY,sBAAC,OAAG,CAAC,IAAG,gBAAa,mBAAiB,CAAM;AACxD,UAAU,CAAI;AACd,QAAQ,CAAM;AACd,MAAM,CAAM;AACZ,IAAI,CAAgB;AACpB,GAAG,CAAC;AACJ,CAAC;AACD;AACA,kBAAkB,CAAC,YAAY,GAAG;AAClC,EAAE,OAAO,EAAE,IAAI;AACf,CAAC,CAAC;AACF;AACA,kBAAkB,CAAC,SAAS,GAAG;AAC/B,EAAE,OAAO,EAAE,SAAS,CAAC,MAAM,CAAC,UAAU;AACtC,EAAE,QAAQ,EAAE,SAAS,CAAC,IAAI,CAAC,UAAU;AACrC,EAAE,OAAO,EAAE,SAAS,CAAC,MAAM;AAC3B,EAAE,GAAG,EAAE,SAAS,CAAC,IAAI,CAAC,UAAU;AAChC,EAAE,UAAU,EAAE,SAAS,CAAC,IAAI,CAAC,UAAU;AACvC,CAAC,CAAC;AACF;AACA,eAAe,MAAM,CAAC,MAAM,CAAC,CAAC,kBAAkB,CAAC,CAAC;"}