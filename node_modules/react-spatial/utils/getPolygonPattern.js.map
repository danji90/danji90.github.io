{"version":3,"file":"getPolygonPattern.js","sources":["../../src/utils/getPolygonPattern.js"],"sourcesContent":["import { DEVICE_PIXEL_RATIO } from 'ol/has';\n\nconst getPolygonPattern = (patternId = 1, color = [235, 0, 0, 1]) => {\n  if (patternId === 1) {\n    return color;\n  }\n\n  const canvasElement = document.createElement('canvas');\n  const pixelRatio = DEVICE_PIXEL_RATIO;\n\n  canvasElement.width = 20 * pixelRatio;\n  canvasElement.height = 20 * pixelRatio;\n\n  let pattern = {};\n  const ctx = canvasElement.getContext('2d');\n  ctx.strokeStyle = `rgba(${color.toString()})`;\n  ctx.fillStyle = `rgba(${color.toString()})`;\n  ctx.lineWidth = 3;\n\n  switch (patternId) {\n    case 2:\n      /* Hatched pattern */\n      /* Ascending line */\n      ctx.beginPath();\n      ctx.moveTo(0, canvasElement.height);\n      ctx.lineTo(0, canvasElement.height - ctx.lineWidth / 2);\n      ctx.lineTo(canvasElement.width - ctx.lineWidth / 2, 0);\n      ctx.lineTo(canvasElement.width, 0);\n      ctx.lineTo(canvasElement.width, ctx.lineWidth / 2);\n      ctx.lineTo(ctx.lineWidth / 2, canvasElement.height);\n      ctx.lineTo(ctx.lineWidth / 2, canvasElement.height);\n      ctx.fill();\n      ctx.closePath();\n\n      /* Descending line */\n      ctx.beginPath();\n      ctx.moveTo(0, 0);\n      ctx.lineTo(0, ctx.lineWidth / 2);\n      ctx.lineTo(canvasElement.width - ctx.lineWidth / 2, canvasElement.height);\n      ctx.lineTo(canvasElement.width, canvasElement.height);\n      ctx.lineTo(canvasElement.width, canvasElement.height - ctx.lineWidth / 2);\n      ctx.lineTo(ctx.lineWidth / 2, 0);\n      ctx.lineTo(0, 0);\n      ctx.fill();\n      ctx.closePath();\n\n      pattern = ctx.createPattern(canvasElement, 'repeat');\n      pattern.canvas = canvasElement;\n      break;\n    case 3:\n      /* Shade ascending pattern */\n      /* Corner triangle */\n      ctx.beginPath();\n      ctx.moveTo(0, 0);\n      ctx.lineTo(0, ctx.lineWidth / 2);\n      ctx.lineTo(ctx.lineWidth / 2, 0);\n      ctx.fill();\n      ctx.closePath();\n\n      /* Ascending line */\n      ctx.beginPath();\n      ctx.moveTo(0, canvasElement.height);\n      ctx.lineTo(0, canvasElement.height - ctx.lineWidth / 2);\n      ctx.lineTo(canvasElement.width - ctx.lineWidth / 2, 0);\n      ctx.lineTo(canvasElement.width, 0);\n      ctx.lineTo(canvasElement.width, ctx.lineWidth / 2);\n      ctx.lineTo(ctx.lineWidth / 2, canvasElement.height);\n      ctx.lineTo(ctx.lineWidth / 2, canvasElement.height);\n      ctx.fill();\n      ctx.closePath();\n\n      /* Corner triangle */\n      ctx.beginPath();\n      ctx.moveTo(canvasElement.width, canvasElement.height);\n      ctx.lineTo(canvasElement.width, canvasElement.height - ctx.lineWidth / 2);\n      ctx.lineTo(canvasElement.width - ctx.lineWidth / 2, canvasElement.height);\n      ctx.fill();\n      ctx.closePath();\n\n      pattern = ctx.createPattern(canvasElement, 'repeat');\n      pattern.canvas = canvasElement;\n      break;\n    case 4:\n      /* Shade descending pattern */\n      /* Corner triangle */\n      ctx.beginPath();\n      ctx.moveTo(canvasElement.width, 0);\n      ctx.lineTo(canvasElement.width, ctx.lineWidth / 2);\n      ctx.lineTo(canvasElement.width - ctx.lineWidth / 2, 0);\n      ctx.fill();\n      ctx.closePath();\n\n      /* Descending line */\n      ctx.beginPath();\n      ctx.moveTo(0, 0);\n      ctx.lineTo(0, ctx.lineWidth / 2);\n      ctx.lineTo(canvasElement.width - ctx.lineWidth / 2, canvasElement.height);\n      ctx.lineTo(canvasElement.width, canvasElement.height);\n      ctx.lineTo(canvasElement.width, canvasElement.height - ctx.lineWidth / 2);\n      ctx.lineTo(ctx.lineWidth / 2, 0);\n      ctx.lineTo(0, 0);\n      ctx.fill();\n      ctx.closePath();\n\n      /* Corner triangle */\n      ctx.beginPath();\n      ctx.moveTo(0, canvasElement.height);\n      ctx.lineTo(0, canvasElement.height - ctx.lineWidth / 2);\n      ctx.lineTo(ctx.lineWidth / 2, canvasElement.height);\n      ctx.fill();\n      ctx.closePath();\n\n      pattern = ctx.createPattern(canvasElement, 'repeat');\n      pattern.canvas = canvasElement;\n      break;\n    default:\n  }\n\n  if (patternId === 0) {\n    pattern.empty = true;\n  }\n\n  pattern.id = patternId;\n  pattern.color = color;\n\n  return pattern;\n};\n\nexport default getPolygonPattern;\n"],"names":["const","let"],"mappings":"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"}