{"version":3,"file":"StopFinder.js","sources":["../../../../src/components/Search/engines/StopFinder.js"],"sourcesContent":["import React from 'react';\n\nimport { StopsAPI } from 'mobility-toolbox-js/api';\nimport Engine from './Engine';\n\nclass StopFinder extends Engine {\n  constructor(endpoint = 'https://api.geops.io/stops/v1/', options = {}) {\n    super();\n    this.options = options;\n    // apiKey is passed as key in StopsAPI, delete to avoid duplicates.\n    delete this.options.apiKey;\n    this.api = new StopsAPI({\n      url: endpoint,\n      apiKey: options.apiKey,\n    });\n  }\n\n  search(value) {\n    return this.api.search({\n      q: encodeURIComponent(value),\n      ...this.options,\n    });\n  }\n\n  setApiKey(apiKey) {\n    this.api.apiKey = apiKey;\n  }\n\n  render(item) {\n    return <div>{item.properties.name}</div>;\n  }\n\n  static value(item) {\n    return item.properties.name;\n  }\n}\n\nexport default StopFinder;\n"],"names":["super"],"mappings":"AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B;AACA,SAAS,QAAQ,QAAQ,yBAAyB,CAAC;AACnD,OAAO,MAAM,MAAM,UAAU,CAAC;AAC9B;AACA,IAAM,UAAU,GAAe;EAC7B,mBAAW,CAAC,QAA2C,EAAE,OAAY,EAAE;uCAAnD,GAAG;qCAAyC,GAAG;AAAK;AAC1E,IAAIA,WAAK,KAAC,CAAC,CAAC;AACZ,IAAI,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;AAC3B;AACA,IAAI,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;AAC/B,IAAI,IAAI,CAAC,GAAG,GAAG,IAAI,QAAQ,CAAC;AAC5B,MAAM,GAAG,EAAE,QAAQ;AACnB,MAAM,MAAM,EAAE,OAAO,CAAC,MAAM;AAC5B,KAAK,CAAC,CAAC;AACP;;;;gDAAG;AACH;AACA,uBAAE,yBAAM,CAAC,KAAK,EAAE;AAChB,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,mBACrB,CAAC,EAAE,kBAAkB,CAAC,KAAK,EAAC;AAClC,MAAS,IAAI,CAAC,OAAO,CAChB,CAAC,CAAC;AACP,IAAG;AACH;AACA,uBAAE,+BAAS,CAAC,MAAM,EAAE;AACpB,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC;AAC7B,IAAG;AACH;AACA,uBAAE,yBAAM,CAAC,IAAI,EAAE;AACf,IAAI,OAAO,sBAAC,YAAK,IAAI,CAAC,UAAU,CAAC,IAAK,EAAM,CAAC;AAC7C,IAAG;AACH;AACA,EAAE,WAAO,uBAAK,CAAC,IAAI,EAAE;AACrB,IAAI,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;AAChC;;;EA7ByB,SA8BxB;AACD;AACA,eAAe,UAAU,CAAC;"}