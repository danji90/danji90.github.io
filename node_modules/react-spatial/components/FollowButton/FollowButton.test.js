import React from 'react';
import renderer from 'react-test-renderer';
import { configure, shallow } from 'enzyme';
import Adapter from 'enzyme-adapter-react-16';
import { MdNavigation } from 'react-icons/md';
import { TrajservLayer } from 'mobility-toolbox-js/ol';
import FollowButton from '.';

configure({ adapter: new Adapter() });

var funcs = {
  onClick: function () {},
};

var trackerLayer = new TrajservLayer();

test('FollowButton should match snapshot.', function () {
  var component = renderer.create(
    React.createElement( FollowButton, {
      className: "rt-follow-button", title: "Follow up", active: false, onClick: function () {}, routeIdentifier: "test", trackerLayer: trackerLayer, setCenter: function () { return funcs.onClick(); } },
      React.createElement( MdNavigation, null )
    )
  );
  var tree = component.toJSON();
  expect(tree).toMatchSnapshot();
});

test('FollowButton should toggle.', function () {
  var followActive = false;
  var setFollowActive = function () {
    followActive = !followActive;
  };
  var bt = shallow(
    React.createElement( FollowButton, {
      className: "rt-follow-button", title: "Follow up", active: followActive, onClick: function (active) { return setFollowActive(active); }, routeIdentifier: "test", trackerLayer: trackerLayer, setCenter: function () { return funcs.onClick(); } },
      React.createElement( MdNavigation, null )
    )
  );

  expect(followActive).toBe(false);

  bt.find('.rt-follow-button').first().simulate('click');

  expect(followActive).toBe(true);

  bt.find('.rt-follow-button').first().simulate('click');

  expect(followActive).toBe(false);
});

//# sourceMappingURL=FollowButton.test.js.map