{"version":3,"file":"NorthArrow.js","sources":["../../../src/components/NorthArrow/NorthArrow.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport OLMap from 'ol/Map';\nimport { unByKey } from 'ol/Observable';\nimport degrees from 'radians-degrees';\nimport NorthArrowSimple from '../../images/northArrow.svg';\nimport NorthArrowCircle from '../../images/northArrowCircle.svg';\n\nconst propTypes = {\n  /**\n   * An [ol/map](https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html).\n   */\n  map: PropTypes.instanceOf(OLMap).isRequired,\n\n  /**\n   * Rotation of the north arrow in degrees.\n   */\n  rotationOffset: PropTypes.number,\n\n  /**\n   * Display circle around the north arrow. Not used if pass children.\n   */\n  circled: PropTypes.bool,\n\n  /**\n   *  Children content of the north arrow.\n   */\n  children: PropTypes.node,\n};\n\nconst defaultProps = {\n  rotationOffset: 0,\n  circled: false,\n  children: null,\n};\n\nconst getRotation = (map, rotationOffset) =>\n  degrees(map.getView().getRotation()) + rotationOffset;\n\n/**\n * This NorthArrow component inserts an arrow pointing north into an\n * [ol/map](https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html).\n */\nfunction NorthArrow({ map, rotationOffset, circled, children, ...other }) {\n  const [rotation, setRotation] = useState(rotationOffset);\n\n  useEffect(() => {\n    if (!map) {\n      return null;\n    }\n    const key = map.on('postrender', () => {\n      setRotation(getRotation(map, rotationOffset));\n    });\n    return () => {\n      unByKey(key);\n    };\n  }, [map, rotationOffset]);\n\n  return (\n    <div\n      className=\"rs-north-arrow\"\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      {...other}\n      style={{ transform: `rotate(${rotation}deg)` }}\n    >\n      {children || (circled ? <NorthArrowCircle /> : <NorthArrowSimple />)}\n    </div>\n  );\n}\n\nNorthArrow.propTypes = propTypes;\nNorthArrow.defaultProps = defaultProps;\n\nexport default React.memo(NorthArrow);\n"],"names":["const"],"mappings":";AAAA,OAAO,KAAK,IAAI,SAAS,EAAE,QAAQ,QAAQ,OAAO,CAAC;AACnD,OAAO,SAAS,MAAM,YAAY,CAAC;AACnC,OAAO,KAAK,MAAM,QAAQ,CAAC;AAC3B,SAAS,OAAO,QAAQ,eAAe,CAAC;AACxC,OAAO,OAAO,MAAM,iBAAiB,CAAC;AACtC,OAAO,gBAAgB,MAAM,6BAA6B,CAAC;AAC3D,OAAO,gBAAgB,MAAM,mCAAmC,CAAC;AACjE;AACAA,GAAK,CAAC,SAAS,GAAG;AAClB;AACA;AACA;AACA,EAAE,GAAG,EAAE,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,UAAU;AAC7C;AACA;AACA;AACA;AACA,EAAE,cAAc,EAAE,SAAS,CAAC,MAAM;AAClC;AACA;AACA;AACA;AACA,EAAE,OAAO,EAAE,SAAS,CAAC,IAAI;AACzB;AACA;AACA;AACA;AACA,EAAE,QAAQ,EAAE,SAAS,CAAC,IAAI;AAC1B,CAAC,CAAC;AACF;AACAA,GAAK,CAAC,YAAY,GAAG;AACrB,EAAE,cAAc,EAAE,CAAC;AACnB,EAAE,OAAO,EAAE,KAAK;AAChB,EAAE,QAAQ,EAAE,IAAI;AAChB,CAAC,CAAC;AACF;AACAA,GAAK,CAAC,WAAW,YAAG,CAAC,GAAG,EAAE,cAAc,WACtC,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,WAAW,EAAE,CAAC,GAAG,iBAAc,CAAC;AACxD;AACA;AACA;AACA;AACA;AACA,SAAS,UAAU,IAAqD,EAAE,CAApD;oBAAK;0CAAgB;4BAAS;8BAAU;8FAAG;;AAAU;AAC3E,WAA+B,GAAG,QAAQ,CAAC,cAAc;EAAhD;EAAU,2BAAwC;AAC3D;AACA,EAAE,SAAS,UAAC,GAAM;AAClB,IAAI,IAAI,CAAC,GAAG,EAAE;AACd,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK;AACL,IAAIA,GAAK,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE,CAAC,YAAY,WAAE,GAAM;AAC3C,MAAM,WAAW,CAAC,WAAW,CAAC,GAAG,EAAE,cAAc,CAAC,CAAC,CAAC;AACpD,KAAK,CAAC,CAAC;AACP,IAAI,gBAAO,GAAM;AACjB,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC;AACnB,KAAK,CAAC;AACN,GAAG,EAAE,CAAC,GAAG,EAAE,cAAc,CAAC,CAAC,CAAC;AAC5B;AACA,EAAE,OAAO;AACT,IAAI,sBAAC,uBAAG;AACR,QAAM,WAAU,kBAAgB,EAEtB,KAAM,IACV,OAAO,EAAE,SAAS,EAAE,aAAU,QAAQ,UAAM,MAC7C;AACL,MAAO,QAAQ,IAAI,CAAC,OAAO,GAAG,qBAAC,sBAAgB,EAAG,GAAG,qBAAC,sBAAgB,EAAG,CAAE;AAC3E,IAAI,CAAM;AACV,GAAG,CAAC;AACJ,CAAC;AACD;AACA,UAAU,CAAC,SAAS,GAAG,SAAS,CAAC;AACjC,UAAU,CAAC,YAAY,GAAG,YAAY,CAAC;AACvC;AACA,eAAe,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;"}