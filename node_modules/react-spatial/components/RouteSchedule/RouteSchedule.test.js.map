{"version":3,"file":"RouteSchedule.test.js","sources":["../../../src/components/RouteSchedule/RouteSchedule.test.js"],"sourcesContent":["import React from 'react';\nimport renderer from 'react-test-renderer';\nimport { configure } from 'enzyme';\nimport Adapter from 'enzyme-adapter-react-16';\nimport 'jest-date-mock';\nimport { TrajservLayer } from 'mobility-toolbox-js/ol';\nimport RouteSchedule from '.';\n\nconfigure({ adapter: new Adapter() });\nconst RealDate = Date;\n\nconst lineInfos = {\n  backgroundColor: 'ff8a00',\n  destination: 'Station name',\n  id: 9959310,\n  routeIdentifier: '03634.003849.004:9',\n  longName: 'T 3',\n  shortName: '3',\n  operator: 'foo',\n  operatorUrl: 'foo.ch',\n  publisher: 'bar',\n  publisherUrl: 'bar.ch',\n  stations: [\n    {\n      stationId: '1',\n      stationName: 'first stop',\n      coordinates: [8.51772, 47.3586],\n      arrivalDelay: 60000, // +1m\n      arrivalTime: 1571729580000,\n      departureDelay: 60000,\n      departureTime: 1571729580000,\n    },\n    {\n      stationId: '2',\n      stationName: 'second stop',\n      coordinates: [8.54119, 47.36646],\n      arrivalDelay: 0, // +0\n      arrivalTime: 1571729903000,\n      departureDelay: 120000, // +2m\n      departureTime: 1571729903000,\n    },\n    {\n      stationId: '4',\n      stationName: 'no stop',\n      coordinates: [8.54119, 47.36646],\n      arrivalDelay: null, // +0\n      arrivalTime: 0,\n      departureDelay: null, // +2m\n      departureTime: 0,\n    },\n    {\n      stationId: '3',\n      stationName: 'third stop',\n      coordinates: [8.54119, 50],\n      arrivalDelay: 240000, // +4m\n      arrivalTime: 1571730323000,\n      departureDelay: 0, // +0\n      departureTime: 0,\n    },\n  ],\n  vehicleType: 0,\n};\n\ndescribe('RouteSchedule', () => {\n  beforeEach(() => {\n    global.Date = jest.fn(() => ({\n      getHours: () => {\n        return 9;\n      },\n      getMinutes: () => {\n        return 1;\n      },\n    }));\n    Object.assign(Date, RealDate);\n  });\n\n  afterEach(() => {\n    global.Date = RealDate;\n  });\n\n  test('matches snapshots.', () => {\n    const trackerLayer = new TrajservLayer();\n    const component = renderer.create(\n      <RouteSchedule\n        lineInfos={lineInfos}\n        trackerLayer={trackerLayer}\n        setCenter={() => {}}\n        renderHeaderButtons={() => <div>Button</div>}\n      />,\n    );\n    const tree = component.toJSON();\n    expect(tree).toMatchSnapshot();\n  });\n\n  // to test: on station click\n  // to test: time formating\n  // to test: delay formating\n  // to test: delay color\n  // to test: no arrival delay on first station\n  // to test: no arrival date on first station\n  // to test: no departure delay on last station\n  // to test: no departure date on last station\n  // to test: font bold on first and last station\n});\n"],"names":["const"],"mappings":"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"}