{"version":3,"file":"BasicMap.test.js","sources":["../../../src/components/BasicMap/BasicMap.test.js"],"sourcesContent":["import 'jest-canvas-mock';\nimport proj4 from 'proj4';\nimport { register } from 'ol/proj/proj4';\nimport React from 'react';\nimport { configure, shallow, mount } from 'enzyme';\nimport Adapter from 'enzyme-adapter-react-16';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport { Layer } from 'mobility-toolbox-js/ol';\nimport MapEvent from 'ol/MapEvent';\nimport OLLayer from 'ol/layer/Vector';\nimport OLMap from 'ol/Map';\nimport OLView from 'ol/View';\nimport BasicMap from './BasicMap';\n\nproj4.defs(\n  'EPSG:21781',\n  '+proj=somerc +lat_0=46.95240555555556 ' +\n    '+lon_0=7.439583333333333 +k_0=1 +x_0=600000 +y_0=200000 +ellps=bessel ' +\n    '+towgs84=674.4,15.1,405.3,0,0,0,0 +units=m +no_defs',\n);\n\nregister(proj4);\n\nconfigure({ adapter: new Adapter() });\n\nconst extent = [0, 0, 1000, 1000];\nconst olLayers = [\n  new Layer({\n    name: 'foo',\n    olLayer: new OLLayer({}),\n    visible: true,\n  }),\n];\n\ndescribe('BasicMap', () => {\n  let olMap;\n  beforeEach(() => {\n    const olView = new OLView();\n    olMap = new OLMap({ view: olView });\n  });\n\n  test('should be rendered', () => {\n    const setTarget = jest.spyOn(olMap, 'setTarget');\n    shallow(<BasicMap map={olMap} />);\n    expect(setTarget).toHaveBeenCalled();\n  });\n\n  test('should be rendered with touchAction to none', () => {\n    shallow(<BasicMap map={olMap} />);\n    expect(olMap.getViewport().style.touchAction).toBe('none');\n    expect(olMap.getViewport().style.msTouchAction).toBe('none');\n    expect(olMap.getViewport().getAttribute('touch-action')).toBe('none');\n  });\n\n  test('uses onMapMoved function', () => {\n    const spy = jest.fn(() => {});\n    const spy2 = jest.fn();\n    const evt = new MapEvent('moveend', olMap);\n\n    // Test componentDidMount\n    const wrapper = shallow(<BasicMap map={olMap} onMapMoved={spy} />);\n    olMap.dispatchEvent(evt);\n    expect(spy).toHaveBeenCalledTimes(1);\n    expect(spy).toHaveBeenCalledWith(evt);\n\n    // Test componentDidUpdate\n    wrapper.setProps({\n      onMapMoved: spy2,\n    });\n    olMap.dispatchEvent(evt);\n    expect(spy).toHaveBeenCalledTimes(1);\n    expect(spy2).toHaveBeenCalledTimes(1);\n    expect(spy2).toHaveBeenCalledWith(evt);\n\n    // Test componentDidUpdate\n    wrapper.setProps({\n      onMapMoved: null,\n    });\n    olMap.dispatchEvent(evt);\n    expect(spy).toHaveBeenCalledTimes(1);\n    expect(spy2).toHaveBeenCalledTimes(1);\n  });\n\n  test('uses onFeaturesClick function', () => {\n    const spy = jest.fn();\n    const spy2 = jest.fn();\n    const evt = new MapEvent('singleclick', olMap);\n\n    // Test componentDidMount\n    const wrapper = shallow(<BasicMap map={olMap} onFeaturesClick={spy} />, {\n      lifecycleExperimental: true,\n    });\n    olMap.dispatchEvent(evt);\n    expect(spy).toHaveBeenCalledTimes(1);\n    expect(spy).toHaveBeenCalledWith([], evt);\n\n    // Test componentDidUpdate\n    wrapper.setProps({\n      onFeaturesClick: spy2,\n    });\n    olMap.dispatchEvent(evt);\n    expect(spy).toHaveBeenCalledTimes(1);\n    expect(spy2).toHaveBeenCalledTimes(1);\n    expect(spy2).toHaveBeenCalledWith([], evt);\n\n    // Test componentDidUpdate\n    wrapper.setProps({\n      onFeaturesClick: null,\n    });\n    olMap.dispatchEvent(evt);\n    expect(spy).toHaveBeenCalledTimes(1);\n    expect(spy2).toHaveBeenCalledTimes(1);\n  });\n\n  test('uses onFeaturesHover function', () => {\n    const spy = jest.fn();\n    const spy2 = jest.fn();\n    const evt = new MapEvent('pointermove', olMap);\n\n    // Test componentDidMount\n    const wrapper = shallow(<BasicMap map={olMap} onFeaturesHover={spy} />, {\n      lifecycleExperimental: true,\n    });\n    olMap.dispatchEvent(evt);\n    expect(spy).toHaveBeenCalledTimes(1);\n    expect(spy).toHaveBeenCalledWith([], evt);\n\n    // Test componentDidUpdate\n    wrapper.setProps({\n      onFeaturesHover: spy2,\n    });\n    olMap.dispatchEvent(evt);\n    expect(spy).toHaveBeenCalledTimes(1);\n    expect(spy2).toHaveBeenCalledTimes(1);\n    expect(spy2).toHaveBeenCalledWith([], evt);\n\n    // Test componentDidUpdate\n    wrapper.setProps({\n      onFeaturesHover: null,\n    });\n    olMap.dispatchEvent(evt);\n    expect(spy).toHaveBeenCalledTimes(1);\n    expect(spy2).toHaveBeenCalledTimes(1);\n  });\n\n  test('should be rendered with a default map', () => {\n    const wrapper = shallow(<BasicMap />);\n    expect(wrapper.instance().map).toBeDefined();\n  });\n\n  test('should be rendered with layers and an extent', () => {\n    const wrapper = shallow(\n      <BasicMap\n        map={olMap}\n        layers={olLayers}\n        extent={extent}\n        viewOptions={{\n          minZoom: 16,\n          maxZoom: 22,\n          projection: 'EPSG:21781',\n        }}\n      />,\n    );\n    const inst = wrapper.instance();\n    expect(inst.map).toBeDefined();\n    expect(inst.map.getLayers().getLength()).toBe(1);\n    expect(inst.map.getView().calculateExtent()).toEqual([\n      -119.29915768648752,\n      -119.29915768648752,\n      119.29915768648752,\n      119.29915768648752,\n    ]);\n  });\n\n  test('center shoud be set', () => {\n    const map = shallow(<BasicMap map={olMap} />);\n    const setCenter = jest.spyOn(olMap.getView(), 'setCenter');\n    map.setProps({ center: [0, 0] }).update();\n    expect(setCenter).toHaveBeenCalled();\n  });\n\n  test('zoom shoud be set', () => {\n    const map = shallow(<BasicMap map={olMap} zoom={5} />);\n    expect(olMap.getView().getZoom()).toBe(5);\n    map.setProps({ zoom: 2 }).update();\n    expect(olMap.getView().getZoom()).toBe(2);\n  });\n\n  test('resolution shoud be set', () => {\n    const map = shallow(<BasicMap map={olMap} resolution={100} />);\n    expect(olMap.getView().getResolution()).toBe(100);\n    map.setProps({ resolution: 5 }).update();\n    expect(olMap.getView().getResolution()).toBe(5);\n  });\n\n  test('animation shoud be set', () => {\n    const obj = {\n      zoom: 4,\n    };\n    const map = shallow(<BasicMap map={olMap} />);\n    const spy = jest.spyOn(olMap.getView(), 'animate');\n    map.setProps({ animationOptions: obj }).update();\n    expect(spy).toHaveBeenCalledWith(obj);\n  });\n\n  test('layers shoud be updated', () => {\n    const addLayer = jest.spyOn(olMap, 'addLayer');\n    const map = shallow(<BasicMap map={olMap} />);\n    const layer = new Layer({ name: 'test', olLayer: new OLLayer() });\n    map.setProps({ layers: [layer] }).update();\n    expect(addLayer).toHaveBeenCalled();\n  });\n\n  test('should be fitted if extent is updated', () => {\n    const fitExtent = jest.spyOn(OLView.prototype, 'fit');\n    const map = shallow(<BasicMap map={olMap} />);\n    map.setProps({ extent: [1, 2, 3, 4] }).update();\n    expect(fitExtent).toHaveBeenCalled();\n  });\n\n  test('should be zoomed if zoom is updated', () => {\n    const setZoom = jest.spyOn(OLView.prototype, 'setZoom');\n    const map = shallow(<BasicMap map={olMap} />);\n    map.setProps({ zoom: 15 }).update();\n    expect(setZoom).toHaveBeenCalled();\n  });\n\n  test('should be observed by ResizeHandler', () => {\n    const spy = jest.spyOn(ResizeObserver.prototype, 'observe');\n    const map = mount(<BasicMap map={olMap} />);\n    const node = map.getDOMNode();\n    expect(spy).toHaveBeenCalledWith(node);\n    expect(spy).toHaveBeenCalledTimes(1);\n  });\n\n  test('size is updated when div is resized', () => {\n    const spy = jest.spyOn(olMap, 'updateSize');\n    const map = mount(<BasicMap map={olMap} />);\n    const node = map.getDOMNode();\n    expect(spy).toHaveBeenCalledTimes(2);\n    // The mock class set the onResize property, we just have to run it to\n    // simulate a resize\n    ResizeObserver.onResize([\n      {\n        target: node,\n        contentRect: {\n          width: 20,\n          height: 20,\n        },\n      },\n    ]);\n    expect(spy).toHaveBeenCalledTimes(3);\n  });\n\n  describe('#setLayers()', () => {\n    test('only init layers which are not already on the map.', () => {\n      const layer0 = new Layer({ key: 'test1' });\n      const spyInit0 = jest.spyOn(layer0, 'init');\n      const spyTerminate0 = jest.spyOn(layer0, 'terminate');\n      const layer1 = new Layer({ key: 'test1' });\n      const spyInit1 = jest.spyOn(layer1, 'init');\n      const spyTerminate1 = jest.spyOn(layer1, 'terminate');\n      const layer2 = new Layer({ key: 'test2' });\n      const spyInit2 = jest.spyOn(layer2, 'init');\n      const spyTerminate2 = jest.spyOn(layer2, 'terminate');\n      const layer3 = new Layer({ key: 'test3' });\n      const spyInit3 = jest.spyOn(layer3, 'init');\n      const spyTerminate3 = jest.spyOn(layer3, 'terminate');\n      const layer4 = new Layer({ key: 'test4' });\n      const spyInit4 = jest.spyOn(layer4, 'init');\n      const spyTerminate4 = jest.spyOn(layer4, 'terminate');\n      const startLayers = [layer1, layer3];\n      const map = shallow(<BasicMap map={olMap} layers={startLayers} />);\n\n      expect(map.instance().layers).toBe(startLayers);\n      expect(spyInit0).toHaveBeenCalledTimes(0);\n      expect(spyInit1).toHaveBeenCalledTimes(1);\n      expect(spyInit2).toHaveBeenCalledTimes(0);\n      expect(spyInit3).toHaveBeenCalledTimes(1);\n      expect(spyInit4).toHaveBeenCalledTimes(0);\n      expect(spyTerminate0).toHaveBeenCalledTimes(0);\n      expect(spyTerminate1).toHaveBeenCalledTimes(1);\n      expect(spyTerminate2).toHaveBeenCalledTimes(0);\n      expect(spyTerminate3).toHaveBeenCalledTimes(1);\n      expect(spyTerminate4).toHaveBeenCalledTimes(0);\n      expect(map.instance().layers).toBe(startLayers);\n\n      const layers = [layer0, layer2, layer3, layer4];\n      map.setProps({\n        layers,\n      });\n\n      expect(spyInit0).toHaveBeenCalledTimes(1);\n      expect(spyInit1).toHaveBeenCalledTimes(1);\n      expect(spyInit2).toHaveBeenCalledTimes(1);\n      expect(spyInit3).toHaveBeenCalledTimes(1);\n      expect(spyInit4).toHaveBeenCalledTimes(1);\n      expect(spyTerminate0).toHaveBeenCalledTimes(1);\n      expect(spyTerminate1).toHaveBeenCalledTimes(2);\n      expect(spyTerminate2).toHaveBeenCalledTimes(1);\n      expect(spyTerminate3).toHaveBeenCalledTimes(1);\n      expect(spyTerminate4).toHaveBeenCalledTimes(1);\n      expect(map.instance().layers).toBe(layers);\n    });\n  });\n});\n"],"names":["const","let"],"mappings":"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"}