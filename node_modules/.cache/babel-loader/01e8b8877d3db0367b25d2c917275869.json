{"ast":null,"code":"import _slicedToArray from \"/home/daniel/gitRepos/danji90.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/daniel/gitRepos/danji90.github.io/src/components/LayerMenu/LayerMenu.js\";\n\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Checkbox, FormControlLabel as MuiFormControlLabel, Hidden, RadioGroup, Radio, Divider, IconButton, Paper, Fade } from '@material-ui/core';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport { Layers } from '@material-ui/icons';\nimport { setShowEducation, setShowWork, setShowResidence, setLayersOpen } from '../../model/actions';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    layerMenuWrapper: {\n      position: 'absolute',\n      top: 15,\n      left: 5,\n      zIndex: 1\n    },\n    layerMenu: {\n      backgroundColor: 'white',\n      padding: 5,\n      borderRadius: 'inherit'\n    },\n    layersButton: {\n      backgroundColor: 'white',\n      boxShadow: ' 0 1px 4px rgb(0 0 0 / 30%)'\n    },\n    disabled: {\n      pointerEvents: 'none',\n      opacity: '0.4'\n    },\n    paper: {\n      position: 'absolute',\n      top: 0,\n      width: 'max-content'\n    }\n  };\n});\nvar FormControlLabel = withStyles({\n  root: {\n    display: 'block'\n  }\n})(MuiFormControlLabel);\nvar layerMenuTimout;\n\nvar LayerMenu = function LayerMenu() {\n  var dispatch = useDispatch();\n  var classes = useStyles();\n  var showResidence = useSelector(function (state) {\n    return state.showResidence;\n  });\n  var showEducation = useSelector(function (state) {\n    return state.showEducation;\n  });\n  var showWork = useSelector(function (state) {\n    return state.showWork;\n  });\n  var layersOpen = useSelector(function (state) {\n    return state.layersOpen;\n  });\n  var layerService = useSelector(function (state) {\n    return state.layerService;\n  });\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      disabled = _useState2[0],\n      setDisabled = _useState2[1];\n\n  var ref = useRef();\n  var currentBaseLayer = layerService.getBaseLayers().find(function (baselayer) {\n    return baselayer.visible;\n  });\n\n  var _useState3 = useState(currentBaseLayer === null || currentBaseLayer === void 0 ? void 0 : currentBaseLayer.name),\n      _useState4 = _slicedToArray(_useState3, 2),\n      value = _useState4[0],\n      setValue = _useState4[1];\n\n  var handleChange = function handleChange(event) {\n    var layer = layerService.getLayer(event.target.value);\n    layer.setVisible(true);\n    setValue(event.target.value);\n  };\n\n  var handleMenuOpen = useCallback(function () {\n    dispatch(setLayersOpen(true));\n  }, [dispatch]);\n  var handleMenuClose = useCallback(function () {\n    dispatch(setLayersOpen(false));\n    setDisabled(true);\n  }, [dispatch]);\n  var clickAwayListener = useCallback(function (evt) {\n    var _ref$current;\n\n    if (ref.current !== evt.target && !((_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.contains(evt.target))) {\n      handleMenuClose();\n    }\n  }, [ref, handleMenuClose]);\n  useEffect(function () {\n    clearTimeout(layerMenuTimout);\n\n    if (layersOpen) {\n      setTimeout(function () {\n        setDisabled(false);\n      }, 50);\n      document.addEventListener('click', clickAwayListener);\n    } else {\n      setDisabled(true);\n      document.removeEventListener('click', clickAwayListener);\n    }\n  }, [layersOpen, ref, clickAwayListener]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.layerMenuWrapper,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    onClick: handleMenuOpen,\n    onMouseEnter: handleMenuOpen,\n    classes: {\n      root: classes.layersButton\n    },\n    style: {\n      backgroundColor: 'white'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Layers, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Fade, {\n    in: layersOpen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    elevation: 3,\n    classes: {\n      root: classes.paper\n    },\n    ref: ref,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(classes.layerMenu, \" \").concat(disabled ? classes.disabled : ''),\n    onMouseLeave: handleMenuClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Hidden, {\n    mdUp: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(RadioGroup, {\n    value: value,\n    onChange: handleChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 15\n    }\n  }, layerService.getBaseLayers().map(function (baselayer) {\n    return /*#__PURE__*/React.createElement(MuiFormControlLabel, {\n      value: baselayer.name,\n      control: /*#__PURE__*/React.createElement(Radio, {\n        color: \"primary\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 32\n        }\n      }),\n      label: baselayer.name,\n      key: baselayer.key,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }\n    });\n  })), /*#__PURE__*/React.createElement(Divider, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      color: \"primary\",\n      checked: showEducation,\n      onChange: function onChange() {\n        return dispatch(setShowEducation(!showEducation));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }\n    }),\n    label: \"Education\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      color: \"primary\",\n      checked: showWork,\n      onChange: function onChange() {\n        return dispatch(setShowWork(!showWork));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }\n    }),\n    label: \"Work\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      color: \"primary\",\n      checked: showResidence,\n      onChange: function onChange() {\n        return dispatch(setShowResidence(!showResidence));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }\n    }),\n    label: \"Residence\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  })))));\n};\n\nexport default LayerMenu;","map":{"version":3,"sources":["/home/daniel/gitRepos/danji90.github.io/src/components/LayerMenu/LayerMenu.js"],"names":["React","useState","useEffect","useRef","useCallback","useDispatch","useSelector","Checkbox","FormControlLabel","MuiFormControlLabel","Hidden","RadioGroup","Radio","Divider","IconButton","Paper","Fade","makeStyles","withStyles","Layers","setShowEducation","setShowWork","setShowResidence","setLayersOpen","useStyles","theme","layerMenuWrapper","position","top","left","zIndex","layerMenu","backgroundColor","padding","borderRadius","layersButton","boxShadow","disabled","pointerEvents","opacity","paper","width","root","display","layerMenuTimout","LayerMenu","dispatch","classes","showResidence","state","showEducation","showWork","layersOpen","layerService","setDisabled","ref","currentBaseLayer","getBaseLayers","find","baselayer","visible","name","value","setValue","handleChange","event","layer","getLayer","target","setVisible","handleMenuOpen","handleMenuClose","clickAwayListener","evt","current","contains","clearTimeout","setTimeout","document","addEventListener","removeEventListener","map","key"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  Checkbox,\n  FormControlLabel as MuiFormControlLabel,\n  Hidden,\n  RadioGroup,\n  Radio,\n  Divider,\n  IconButton,\n  Paper,\n  Fade,\n} from '@material-ui/core';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport { Layers } from '@material-ui/icons';\n\nimport {\n  setShowEducation,\n  setShowWork,\n  setShowResidence,\n  setLayersOpen,\n} from '../../model/actions';\n\nconst useStyles = makeStyles((theme) => {\n  return {\n    layerMenuWrapper: {\n      position: 'absolute',\n      top: 15,\n      left: 5,\n      zIndex: 1,\n    },\n    layerMenu: {\n      backgroundColor: 'white',\n      padding: 5,\n      borderRadius: 'inherit',\n    },\n    layersButton: {\n      backgroundColor: 'white',\n      boxShadow: ' 0 1px 4px rgb(0 0 0 / 30%)',\n    },\n    disabled: { pointerEvents: 'none', opacity: '0.4' },\n    paper: {\n      position: 'absolute',\n      top: 0,\n      width: 'max-content',\n    },\n  };\n});\n\nconst FormControlLabel = withStyles({\n  root: {\n    display: 'block',\n  },\n})(MuiFormControlLabel);\n\nlet layerMenuTimout;\n\nconst LayerMenu = () => {\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const showResidence = useSelector((state) => state.showResidence);\n  const showEducation = useSelector((state) => state.showEducation);\n  const showWork = useSelector((state) => state.showWork);\n  const layersOpen = useSelector((state) => state.layersOpen);\n  const layerService = useSelector((state) => state.layerService);\n  const [disabled, setDisabled] = useState(true);\n  const ref = useRef();\n  const currentBaseLayer = layerService\n    .getBaseLayers()\n    .find((baselayer) => baselayer.visible);\n  const [value, setValue] = useState(currentBaseLayer?.name);\n\n  const handleChange = (event) => {\n    const layer = layerService.getLayer(event.target.value);\n    layer.setVisible(true);\n    setValue(event.target.value);\n  };\n\n  const handleMenuOpen = useCallback(() => {\n    dispatch(setLayersOpen(true));\n  }, [dispatch]);\n\n  const handleMenuClose = useCallback(() => {\n    dispatch(setLayersOpen(false));\n    setDisabled(true);\n  }, [dispatch]);\n\n  const clickAwayListener = useCallback(\n    (evt) => {\n      if (ref.current !== evt.target && !ref.current?.contains(evt.target)) {\n        handleMenuClose();\n      }\n    },\n    [ref, handleMenuClose],\n  );\n\n  useEffect(() => {\n    clearTimeout(layerMenuTimout);\n    if (layersOpen) {\n      setTimeout(() => {\n        setDisabled(false);\n      }, 50);\n      document.addEventListener('click', clickAwayListener);\n    } else {\n      setDisabled(true);\n      document.removeEventListener('click', clickAwayListener);\n    }\n  }, [layersOpen, ref, clickAwayListener]);\n\n  return (\n    <div className={classes.layerMenuWrapper}>\n      <IconButton\n        onClick={handleMenuOpen}\n        onMouseEnter={handleMenuOpen}\n        classes={{ root: classes.layersButton }}\n        style={{ backgroundColor: 'white' }}\n      >\n        <Layers />\n      </IconButton>\n      <Fade in={layersOpen}>\n        <Paper elevation={3} classes={{ root: classes.paper }} ref={ref}>\n          <div\n            className={`${classes.layerMenu} ${\n              disabled ? classes.disabled : ''\n            }`}\n            onMouseLeave={handleMenuClose}\n          >\n            <Hidden mdUp>\n              <RadioGroup value={value} onChange={handleChange}>\n                {layerService.getBaseLayers().map((baselayer) => {\n                  return (\n                    <MuiFormControlLabel\n                      value={baselayer.name}\n                      control={<Radio color=\"primary\" />}\n                      label={baselayer.name}\n                      key={baselayer.key}\n                    />\n                  );\n                })}\n              </RadioGroup>\n              <Divider />\n            </Hidden>\n            <FormControlLabel\n              control={(\n                <Checkbox\n                  color=\"primary\"\n                  checked={showEducation}\n                  onChange={() => dispatch(setShowEducation(!showEducation))}\n                />\n              )}\n              label=\"Education\"\n            />\n            <FormControlLabel\n              control={(\n                <Checkbox\n                  color=\"primary\"\n                  checked={showWork}\n                  onChange={() => dispatch(setShowWork(!showWork))}\n                />\n              )}\n              label=\"Work\"\n            />\n            <FormControlLabel\n              control={(\n                <Checkbox\n                  color=\"primary\"\n                  checked={showResidence}\n                  onChange={() => dispatch(setShowResidence(!showResidence))}\n                />\n              )}\n              label=\"Residence\"\n            />\n          </div>\n        </Paper>\n      </Fade>\n    </div>\n  );\n};\n\nexport default LayerMenu;\n"]},"metadata":{},"sourceType":"module"}