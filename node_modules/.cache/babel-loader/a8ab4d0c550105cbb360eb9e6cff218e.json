{"ast":null,"code":"import _defineProperty from \"/home/daniel/gitRepos/danji90.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/daniel/gitRepos/danji90.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport qs from 'query-string';\n/**\n * Return the styleUrl with apiKey parameters set.\n * @param {string} apiKey apiKey value for the mapbox request.\n * @param {string} apiKeyName parameter name for apiKey in the mapbox request.\n * @param {string} styleUrl mapbox styleUrl value.\n * @ignore\n */\n\nvar getMapboxStyleUrl = function getMapboxStyleUrl(apiKey, apiKeyName, styleUrl) {\n  if (apiKey === false) {\n    return styleUrl;\n  }\n\n  var parsedStyle = qs.parseUrl(styleUrl);\n\n  if (!apiKey && parsedStyle.query[apiKeyName]) {\n    return styleUrl;\n  }\n\n  if (!apiKey) {\n    // eslint-disable-next-line no-console\n    console.warn(\"No apiKey is defined for request to \".concat(styleUrl));\n    return null;\n  }\n\n  return qs.stringifyUrl(_objectSpread(_objectSpread({}, parsedStyle), {}, {\n    query: _objectSpread(_objectSpread({}, parsedStyle.query), {}, _defineProperty({}, apiKeyName, apiKey))\n  }));\n};\n\nexport default getMapboxStyleUrl;","map":{"version":3,"sources":["/home/daniel/gitRepos/danji90.github.io/node_modules/mobility-toolbox-js/common/utils/getMapboxStyleUrl.js"],"names":["qs","getMapboxStyleUrl","apiKey","apiKeyName","styleUrl","parsedStyle","parseUrl","query","console","warn","stringifyUrl"],"mappings":";;AAAA,OAAOA,EAAP,MAAe,cAAf;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,MAAD,EAASC,UAAT,EAAqBC,QAArB,EAAkC;AAC1D,MAAIF,MAAM,KAAK,KAAf,EAAsB;AACpB,WAAOE,QAAP;AACD;;AACD,MAAMC,WAAW,GAAGL,EAAE,CAACM,QAAH,CAAYF,QAAZ,CAApB;;AACA,MAAI,CAACF,MAAD,IAAWG,WAAW,CAACE,KAAZ,CAAkBJ,UAAlB,CAAf,EAA8C;AAC5C,WAAOC,QAAP;AACD;;AACD,MAAI,CAACF,MAAL,EAAa;AACX;AACAM,IAAAA,OAAO,CAACC,IAAR,+CAAoDL,QAApD;AACA,WAAO,IAAP;AACD;;AACD,SAAOJ,EAAE,CAACU,YAAH,iCACFL,WADE;AAELE,IAAAA,KAAK,kCACAF,WAAW,CAACE,KADZ,2BAEFJ,UAFE,EAEWD,MAFX;AAFA,KAAP;AAOD,CApBD;;AAsBA,eAAeD,iBAAf","sourcesContent":["import qs from 'query-string';\n\n/**\n * Return the styleUrl with apiKey parameters set.\n * @param {string} apiKey apiKey value for the mapbox request.\n * @param {string} apiKeyName parameter name for apiKey in the mapbox request.\n * @param {string} styleUrl mapbox styleUrl value.\n * @ignore\n */\nconst getMapboxStyleUrl = (apiKey, apiKeyName, styleUrl) => {\n  if (apiKey === false) {\n    return styleUrl;\n  }\n  const parsedStyle = qs.parseUrl(styleUrl);\n  if (!apiKey && parsedStyle.query[apiKeyName]) {\n    return styleUrl;\n  }\n  if (!apiKey) {\n    // eslint-disable-next-line no-console\n    console.warn(`No apiKey is defined for request to ${styleUrl}`);\n    return null;\n  }\n  return qs.stringifyUrl({\n    ...parsedStyle,\n    query: {\n      ...parsedStyle.query,\n      [apiKeyName]: apiKey,\n    },\n  });\n};\n\nexport default getMapboxStyleUrl;\n"]},"metadata":{},"sourceType":"module"}